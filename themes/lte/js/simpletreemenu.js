var persisteduls=new Object;var ddtreemenu=new Object;ddtreemenu.createTree=function(e,t,n){var r=document.getElementById(e).getElementsByTagName("ul");if(typeof persisteduls[e]=="undefined")persisteduls[e]=t==true&&ddtreemenu.getCookie(e)!=""?ddtreemenu.getCookie(e).split(","):"";for(var i=0;i<r.length;i++)ddtreemenu.buildSubTree(e,r[i],i);if(t==true){var s=typeof n=="undefined"?1:parseInt(n);ddtreemenu.dotask(window,function(){ddtreemenu.rememberstate(e,s)},"unload")}};ddtreemenu.buildSubTree=function(e,t,n){t.parentNode.className="submenu";if(typeof persisteduls[e]=="object"){if(ddtreemenu.searcharray(persisteduls[e],n)){t.setAttribute("rel","open");t.style.display="block"}else t.setAttribute("rel","closed")}else if(t.getAttribute("rel")==null||t.getAttribute("rel")==false)t.setAttribute("rel","closed");else if(t.getAttribute("rel")=="open")ddtreemenu.expandSubTree(e,t);t.parentNode.onclick=function(e){var t=this.getElementsByTagName("ul")[0];if(t.getAttribute("rel")=="closed"){t.style.display="block";t.setAttribute("rel","open")}else if(t.getAttribute("rel")=="open"){t.style.display="none";t.setAttribute("rel","closed")}ddtreemenu.preventpropagate(e)};t.onclick=function(e){ddtreemenu.preventpropagate(e)}};ddtreemenu.expandSubTree=function(e,t){var n=document.getElementById(e);var r=t;r.style.display="block";while(r!=n){if(r.tagName=="UL"){r.style.display="block";r.setAttribute("rel","open")}r=r.parentNode}};ddtreemenu.flatten=function(e,t){var n=document.getElementById(e).getElementsByTagName("ul");for(var r=0;r<n.length;r++){n[r].style.display=t=="expand"?"block":"none";var i=t=="expand"?"open":"closed";n[r].setAttribute("rel",i)}};ddtreemenu.rememberstate=function(e,t){var n=document.getElementById(e).getElementsByTagName("ul");var r=new Array;for(var i=0;i<n.length;i++){if(n[i].getAttribute("rel")=="open")r[r.length]=i}if(r.length==0)r[0]="none open";ddtreemenu.setCookie(e,r.join(","),t)};ddtreemenu.getCookie=function(e){var t=new RegExp(e+"=[^;]+","i");if(document.cookie.match(t))return document.cookie.match(t)[0].split("=")[1];return""};ddtreemenu.setCookie=function(e,t,n){var r=new Date;var i=r.setDate(r.getDate()+parseInt(n));document.cookie=e+"="+t+"; expires="+r.toGMTString()+"; path=/"};ddtreemenu.searcharray=function(e,t){var n=false;for(var r=0;r<e.length;r++){if(e[r]==t){n=true;e.shift();break}}return n};ddtreemenu.preventpropagate=function(e){if(typeof e!="undefined")e.stopPropagation();else event.cancelBubble=true};ddtreemenu.dotask=function(e,t,n){var n=window.addEventListener?n:"on"+n;if(e.addEventListener)e.addEventListener(n,t,false);else if(e.attachEvent)e.attachEvent(n,t)}